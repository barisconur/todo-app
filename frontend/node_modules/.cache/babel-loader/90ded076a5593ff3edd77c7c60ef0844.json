{"ast":null,"code":"var _jsxFileName = \"/home/cemal-pro/Documents/Repos/todo-app/src/components/Home/container/SignInButton.js\";\nimport React from 'react';\nimport config from '../../../apiConfig';\nexport default class SignInButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.googleLogin = () => {\n      let response = null;\n      window.gapi.auth.signIn({\n        callback: function (authResponse) {\n          this.googleSignInCallback(authResponse);\n        }.bind(this),\n        clientid: config.googleClientID,\n        //Google client Id\n        cookiepolicy: \"single_host_origin\",\n        requestvisibleactions: \"http://schema.org/AddAction\",\n        scope: \"https://www.googleapis.com/auth/plus.login email\"\n      });\n    };\n\n    this.googleSignInCallback = e => {\n      console.log(e);\n\n      if (e[\"status\"][\"signed_in\"]) {\n        window.gapi.client.load(\"plus\", \"v1\", function () {\n          if (e[\"access_token\"]) {\n            this.getUserGoogleProfile(e[\"access_token\"]);\n          } else if (e[\"error\"]) {\n            console.log('Import error', 'Error occured while importing data');\n          }\n        }.bind(this));\n      } else {\n        console.log('Oops... Error occured while importing data');\n      }\n    };\n\n    this.getUserGoogleProfile = accesstoken => {\n      var e = window.gapi.client.plus.people.get({\n        userId: \"me\"\n      });\n      e.execute(function (e) {\n        if (e.error) {\n          console.log(e.message);\n          console.log('Import error - Error occured while importing data');\n          return;\n        } else if (e.id) {\n          //Profile data\n          alert(\"Successfull login from google : \" + e.displayName);\n          console.log(e);\n          return;\n        }\n      }.bind(this));\n    };\n  }\n\n  componentDidMount() {\n    (function () {\n      var e = document.createElement(\"script\");\n      e.type = \"text/javascript\";\n      e.async = true;\n      e.src = \"https://apis.google.com/js/client:platform.js?onload=gPOnLoad\";\n      var t = document.getElementsByTagName(\"script\")[0];\n      t.parentNode.insertBefore(e, t);\n    })();\n  } //Triggering login for google\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"g-signin2\",\n      onClick: this.googleLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/cemal-pro/Documents/Repos/todo-app/src/components/Home/container/SignInButton.js"],"names":["React","config","SignInButton","Component","constructor","props","googleLogin","response","window","gapi","auth","signIn","callback","authResponse","googleSignInCallback","bind","clientid","googleClientID","cookiepolicy","requestvisibleactions","scope","e","console","log","client","load","getUserGoogleProfile","accesstoken","plus","people","get","userId","execute","error","message","id","alert","displayName","componentDidMount","document","createElement","type","async","src","t","getElementsByTagName","parentNode","insertBefore","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport config from '../../../apiConfig';\n\nexport default class SignInButton extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  componentDidMount() {\n    (function() {\n        var e = document.createElement(\"script\");\n        e.type = \"text/javascript\";\n        e.async = true;\n        e.src = \"https://apis.google.com/js/client:platform.js?onload=gPOnLoad\";\n        var t = document.getElementsByTagName(\"script\")[0];\n        t.parentNode.insertBefore(e, t)\n    })();    \n}\n\n  //Triggering login for google\n  googleLogin = () => {\n      let response = null;\n      window.gapi.auth.signIn({\n          callback: function(authResponse) {\n              this.googleSignInCallback( authResponse )\n          }.bind( this ),\n          clientid: config.googleClientID, //Google client Id\n          cookiepolicy: \"single_host_origin\",\n          requestvisibleactions: \"http://schema.org/AddAction\",\n          scope: \"https://www.googleapis.com/auth/plus.login email\"\n      });\n  }\n\n  googleSignInCallback = (e) => {\n      console.log( e )\n      if (e[\"status\"][\"signed_in\"]) {\n          window.gapi.client.load(\"plus\", \"v1\", function() {\n              if (e[\"access_token\"]) {\n                  this.getUserGoogleProfile( e[\"access_token\"] )\n              } else if (e[\"error\"]) {\n                  console.log('Import error', 'Error occured while importing data')\n              }\n          }.bind(this));\n      } else {\n          console.log('Oops... Error occured while importing data')\n      }\n  }\n\n  getUserGoogleProfile = accesstoken => {\n      var e = window.gapi.client.plus.people.get({\n          userId: \"me\"\n      });\n      e.execute(function(e) {\n          if (e.error) {\n              console.log(e.message);\n              console.log('Import error - Error occured while importing data')\n              return\n          \n          } else if (e.id) {\n              //Profile data\n              alert(\"Successfull login from google : \"+ e.displayName )\n              console.log( e );\n              return;\n          }\n      }.bind(this));\n  }\n\n  render() {\n    return (\n      <div className=\"g-signin2\" onClick={this.googleLogin}></div>\n    )\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}